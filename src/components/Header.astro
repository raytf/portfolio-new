---
// No imports needed for now
---

<div class="flex justify-center w-full">
  <nav
    id="header"
    class="fixed left-1/2 -translate-x-1/2 z-[100] mt-6 px-6 py-3 rounded-xl bg-[#1414149c] backdrop-blur-sm border border-[var(--muted)] transition-all duration-300"
  >
    <ul class="flex items-center space-x-8">
      <li>
        <a
          href="/"
          class="text-[var(--muted)] hover:text-white transition-colors duration-300 text-lg"
        >
          Home
        </a>
      </li>
      <li>
        <a
          href="/projects"
          class="text-[var(--muted)] hover:text-white transition-colors duration-300 text-lg"
        >
          Projects
        </a>
      </li>
      <li>
        <a
          href="/contact"
          class="text-[var(--muted)] hover:text-white transition-colors duration-300 text-lg"
        >
          Contact
        </a>
      </li>
    </ul>
  </nav>
</div>

<style>
  /* Add active state styling */
  a.active {
    color: white;
    position: relative;
  }

  a.active::after {
    content: "";
    position: absolute;
    bottom: -4px;
    left: 0;
    width: 100%;
    height: 2px;
    background-color: white;
    border-radius: 1px;
  }
</style>

<script>
  // Function to update active link based on current path
  function updateActiveLink() {
    const currentPath = window.location.pathname;
    const navLinks = document.querySelectorAll("#header a");

    navLinks.forEach((link) => {
      // Remove active class from all links first
      link.classList.remove("active");

      const href = link.getAttribute("href") || "";

      // Check if the current path matches the link's href
      // Special case for home page
      if (
        (href === "/" && (currentPath === "/" || currentPath === "")) ||
        (href !== "/" && currentPath.startsWith(href))
      ) {
        link.classList.add("active");
      }
    });
  }

  // Update active link on initial page load
  document.addEventListener("DOMContentLoaded", updateActiveLink);

  // Update active link after each page transition
  document.addEventListener("astro:page-load", updateActiveLink);
</script>
